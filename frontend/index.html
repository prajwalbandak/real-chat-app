<head>

</head>
<body>
    <script>
            const ws = new WebSocket("ws://localhost:8080", "echo-protocol");

            ws.onopen = function(){
                ws.send(JSON.stringify({
                    type:"JOIN_ROOM",
                    payload:{
                        name:"prajwal",
                        userId:"1",
                        roomId:"2"
                    }
                }))
            }

            ws.onmessage = function(event){
                const payload = JSON.parse(event.data);
                console.log("payloard " + payload);
                try{
                    alert(JSON.stringify(event));
                }catch(e){
                    console.log("ERROR " + e);
                }
            }

            function sendChat(){
                ws.send(JSON.stringify({
                    type:"SEND_MESSAGE",
                    payload:{
                        message:"hi there",
                        userId: "1",
                        roomId:"2"
                    }
                }))
            }
    </script>
    <h1>hello world</h1>
    <input  type="text" id="inputtexxt"/>
    <br/>
    <button onclick=sendChat()> SEND</button>  
</body>